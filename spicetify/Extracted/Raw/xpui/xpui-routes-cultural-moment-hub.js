"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838,1408],{62652:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>X,REDIRECT_BASE:()=>$,default:()=>G});var i=n(30758),s=n(97500),l=n.n(s),r=n(84126),o=n(64721),a=n(5608),c=n(18212),u=n(9498),d=n(50780),m=n(87244),h=n(29080),p=n(7777),g=n(98991),f=n(17067),x=n(8476),b=n(86070);const v=({image:e,color:t=d.vyq,title:n})=>{const i=void 0===e?m.K.SMALL:m.K.DEFAULT,s=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.z,{backgroundImages:s,backgroundColor:t,size:i,children:[(0,b.jsx)(p.h,{children:n?(0,b.jsx)(g.X,{text:n}):null}),(0,b.jsx)(h.Y,{children:n?(0,b.jsx)(f.mm,{children:n}):null})]}),(0,b.jsx)(x.f,{color:t})]})};var y=n(75627),j=n(60367),w=n(95268),k=n(71420);const A=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const _=(e,t,n)=>{if(void 0===e.id)return null;const i=t.map(((e,t)=>function(e,t){const n=e.component?.id,i=e.id;if(void 0===n||void 0===i)return null;const s=e.events?.click?.data?.uri,l=e.images?.main?.uri,r=l?[{url:l}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===s?null:(0,b.jsx)(w.U,{uri:s,name:e.text?.title??"",images:r,showImages:r,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:A(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===s?null:(0,b.jsx)(k.B,{uri:s,name:e.text?.title??"",images:r,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===i.length)return null;const s=(0,y.o_h)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,b.jsx)(j.p,{title:e.text?.title??"",total:i.length,seeAllUri:s,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:i},e.id)};var N=n(99912),I=n(6128),D=n(90410),R=n(65152),C=n(55285),E=n(64864),M=n(11716),S=n(33058);const z="MT6jAR25XYfoarcSqHDd",T="IYZA3J2VTMydirxq_bdg",F="t6RJK1eND2uPmFYOi32l";var H=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(H||{});const L=({spec:e,model:t})=>{const n=o.Ru.getLocaleForTranslation(),i=(0,M.s)(),s=(0,S.t)(e),r=t.text?.title,a=t.text?.subtitle;if(void 0===r&&void 0===a)return null;const c=t=>{if(t===H.ANDROID){const n=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});i.logInteraction(n)}else{const n=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});i.logInteraction(n)}};return(0,b.jsxs)(N.a,{variant:"tinted",style:{width:600},ref:s,"data-testid":"unsupported-message",children:[(0,b.jsx)(I.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:D.v4},children:r}),(0,b.jsx)(I.E,{as:"p",variant:"bodySmall",style:{marginBottom:D.CD},children:a}),(0,b.jsxs)("div",{className:l()(F),children:[(0,b.jsx)(C.N,{to:H.IOS,target:"_blank",onClick:()=>c(H.IOS),children:(0,b.jsx)("img",{src:(0,R.b)((0,E.f)(n)),alt:o.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:z})}),(0,b.jsx)(C.N,{to:H.ANDROID,target:"_blank",onClick:()=>c(H.ANDROID),children:(0,b.jsx)("img",{src:(0,R.b)((0,E.A)(n)),alt:o.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:l()(z,T)})})]})]})},O=(e,t)=>{const n=(e=>{const t=Array();let n,i=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==i.length&&t.push({heading:n,components:i}),n=e,i=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{i.push(e)})):i.push(e))})),n&&0!==i.length&&t.push({heading:n,components:i}),t})(e),i=(e=>e.find((e=>"culturalmoments:unavailableBanner"===e.component?.id)))(e);return(0,b.jsxs)(b.Fragment,{children:[i?(0,b.jsx)(L,{spec:t,model:i},i.component?.id):null,n.map(((e,t)=>_(e.heading,e.components,t)))]})};var B=n(7038),P=n(96022);const V=(e,t)=>{const n=new Intl.DateTimeFormat;return e.build().withHost(P.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1,clientTimezone:n.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var U=n(76034),Z=n(1620);const W="B9Q1L66F7wl4eUMgp4Lg",q="gtqpWbwIV4PTEp8Q0ZW4",Q="edYsLe1QCBdzPglEiROZ",Y=({uri:e,id:t})=>{const{data:n,error:s,loading:d}=(0,U.Z)(V,[t]),{spec:m,UBIFragment:h}=(0,Z.r)(r.j,{data:{identifier:e,uri:e}}),p=(0,i.useMemo)((()=>m.shelvesFactory()),[m]),g=(0,i.useMemo)((()=>m.mobilePromptFactory()),[m]),f=n?.body.hubViewData?.body,x=n?.body.hubViewData?.header;if(null===n||void 0===f||void 0===x||d||null!==s)return(0,b.jsx)(u.LoadingPage,{hasError:null!==s,errorMessage:o.Ru.get("error.generic")});const y=n.body.hubViewData?.title,j=x?.text?.title;return(0,b.jsxs)(h,{spec:m,children:[(0,b.jsx)(c.Q,{children:y??""}),j?(0,b.jsx)("div",{className:W,children:(0,b.jsx)(v,{title:x?.text?.title,image:x.images?.background})}):null,(0,b.jsx)(h,{spec:p,children:(0,b.jsxs)("div",{className:Q,children:[j&&(0,b.jsx)(a.K,{}),(0,b.jsx)("div",{className:l()("contentSpacing",q),children:(0,b.jsx)(B._,{children:f?O(f,g):null})})]})})]})};var K=n(65311);const $="https://accounts.spotify.com/login",J=()=>{const e=window.location.href;return window.location.href=`${$}?continue=${encodeURIComponent(e)}`,null},X=e=>(0,K.V)()?(0,b.jsx)(J,{}):(0,b.jsx)(Y,{...e}),G=X},7038:(e,t,n)=>{n.d(t,{_:()=>u});var i=n(30758),s=n(21743),l=n(97500),r=n.n(l);const o="eqw9lvuoZHrkWMTdyTpY",a="lb08f71wES9AQnKx6e0R";var c=n(86070);const u=(0,i.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:n,showScrollbar:l=!0,horizontalScroll:u=!1,className:d}=e,{ref:m,inView:h}=(0,s.Wx)({initialInView:t});return(0,i.useLayoutEffect)((()=>{h&&n&&n()}),[h,n]),(0,c.jsxs)("div",{className:r()({[a]:!l,[o]:u},d),"data-testid":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:m})]})}))},8476:(e,t,n)=>{n.d(t,{f:()=>o,z:()=>r});var i=n(30758),s=n(50780),l=n(57286);function r(e,t=s.l0o){const n=(0,l.as)();return(0,i.useEffect)((()=>(e&&n((0,l.Mo)(e)),()=>{n((0,l.Hf)())})),[e,n]),e||t}const o=({color:e,fallbackColor:t})=>(r(e,t),null)},64864:(e,t,n)=>{n.d(t,{A:()=>r,f:()=>l});const i=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],s=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],l=e=>`images/download-badges/apple/${i.includes(e)?e:"int"}.svg`,r=e=>`images/download-badges/google/${s.includes(e)?e:"int"}.svg`}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map